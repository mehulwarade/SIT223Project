<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

	<title>SARMS - Admin (Student Access)</title>
    <link rel="shortcut icon" href="./images/Title.jpg" type="image/x-icon" />

	<!-- Google font -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CVarela+Round" rel="stylesheet">

	<!-- Bootstrap -->
	<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" />

	<!-- Owl Carousel -->
	<link type="text/css" rel="stylesheet" href="css/owl.carousel.css" />
	<link type="text/css" rel="stylesheet" href="css/owl.theme.default.css" />

	<!-- Magnific Popup -->
	<link type="text/css" rel="stylesheet" href="css/magnific-popup.css" />

	<!-- Font Awesome Icon -->
	<link rel="stylesheet" href="css/font-awesome.min.css">

	<!-- Custom stlylesheet -->
	<link type="text/css" rel="stylesheet" href="css/style.css" />
	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">

</head>

<body>
	<!-- About -->
	<div id="about" class="section md-padding">

		<!-- Container -->
		<div class="container">

			<!-- Row -->
			<div class="row">

				<!-- Section header -->
				<div class="section-header text-center">
					<h2 class="title">Welcome Administrator</h2>
					<p class="black-text">This is where you can look over the working of whole website and make necessary changes.
						</p>
						<p class="black-text">Please choose one of the following.
							</p>
				</div>
				<!-- /Section header -->

				<!-- about -->
				<a href="./admin_student.html">
						<div class="col-md-4">							
							<div class="about">
								<i class="fa fa-child"></i>
								<h3>Student Access</h3>
								<p>Perform all admin tasks related to students.</p>							
							</div>
						</div>
					</a>
				<!-- /about -->

				<!-- about -->
				<a href="./underconst.html">
						<div class="col-md-4">							
							<div class="about">
								<i class="fa fa-user"></i>
								<h3>Lecturer Access</h3>
								<p>Perform all admin tasks related to Lecturers.</p>							
							</div>
						</div>
					</a>
				<!-- /about -->

				<!-- about -->
				<a href="./underconst.html">
						<div class="col-md-4">							
							<div class="about">
								<i class="fa fa-book"></i>
								<h3>Unit Access</h3>
								<p>Perform all admin tasks related to units.</p>
								<br>							
							</div>
						</div>
					</a>
				<!-- /about -->

				<!-- about -->
				<a href="./underconst.html">
						<div class="col-md-4">							
							<div class="about">
								<i class="fa fa-line-chart"></i>
								<h3>Generate Reports</h3>
								<p>Create visual representation of a particular dataset.</p>							
							</div>
						</div>
					</a>
				<!-- /about -->
	
					<!-- about -->
				<a href="./admin_admin_access.html">
						<div class="col-md-4">							
							<div class="about">
								<i class="fa fa-user-secret"></i>
								<h3>Admin Access</h3>
								<p>View all the registered users on this website along with their login credentials.</p>							
							</div>
						</div>
					</a>
				<!-- /about -->

				<!-- about -->
				<a href="../../homepage.html">
						<div class="col-md-4">							
							<div class="about">
								<i class="fa fa-sign-out"></i>
								<h3>Sign Out</h3>
								<p>Return to the login page.</p>	
								<br>						
							</div>
						</div>
					</a>
				<!-- /about -->
				
			</div>
			<!-- /Row -->
			
		</div>
		<!-- /Container -->

	</div>
	<!-- /About -->

	<!-- Footer -->
	<footer id="footer" class="sm-padding bg-light">
		<!-- Container -->
		<div class="section-header text-center">
				<h2 class="title">Search for students using any given search parameters:</h2>				
		</div>

		<!-- contact form -->
			<div class="col-md-8 col-md-offset-3">
				<form class="contact-form">
					<input type="text" STYLE="color: #ffffff; font-family: Verdana; font-weight: bold; font-size: 12px; background-color: rgb(0, 0, 0);"class="input" placeholder="Name or ID" id="instudentdetails">				
					
					<button onclick="search()">Search</button>
					<br<br><br>The search button woks but the printing of data couldn't be accomplised. We can check the data using console. We have put a screenshot for the same in our manual. 
					
				</form>
			</div>
			
			<a id="messege"></a>
		<div class="limiter">
			<div class="container-table100">					
				<div class="wrap-table100">
					<div class="table100 ver1 m-b-110">
						<div class="table100-head">
							
							<table>
								<thead>
									<tr class="row100 head">										
										<th class="cell100 column1">Name</th>
										<th class="cell100 column2">Username</th>
										<th class="cell100 column3">ID</th>
										<th class="cell100 column4">Type</th>
										<th class="cell100 column5">Email</th>
										<th class="cell100 column5">Password</th>
									</tr>									
								</thead>
							</table>
						</div>	
								<div class="table100-body js-pscroll">
										<table id="stddata">
											<tbody></tbody>
										</table>
								</div>							
					</div>
				</div>
			</div>
		</div>
	
		
			<!-- Row -->
			<div class="row">
				<div class="col-md-12">
					<!-- footer copyright -->
					<div class="footer-copyright">
						<p>Copyright Â© mjsx (2019). Designed by <a href="https://colorlib.com" target="_blank">Colorlib</a></p>
					</div>
					<!-- /footer copyright -->
				</div>
			</div>
			<!-- /Row -->
		
	</footer>
	<!-- /Footer -->

	
	<!-- jQuery Plugins -->
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/owl.carousel.min.js"></script>
	<script type="text/javascript" src="js/jquery.magnific-popup.js"></script>
	<script type="text/javascript" src="js/main.js"></script>
	<script src="../../app.js"></script>
</body>

</html>


<script>


function search(){
    const input = $('#instudentdetails').val();    
    console.log(input);
    $.post(`${API_URL}/searchstudents`, {input}).then((response) =>{
        if (response.success) {
			response.forEach((user) => {
					console.log(user.name + " " + user.ID);
					$('#userdata tbody').append(`
						<tr class="row100 body">
							<td class="cell100 column1">${user.name}</td>
							<td class="cell100 column2">${user.username}</td>
							<td class="cell100 column3">${user.ID}</td>
							<td class="cell100 column4">Student</td>
							<td class="cell100 column5">${user.email}</td>
							<td class="cell100 column5">${user.password}</td>
						</tr>`				
						);
					});
           
        } 
        else {
            $('#messege').append(`<p class="alert alert-danger">${response}</p>`);
            console.log($,{response});
		}
	
    });

}
</script>